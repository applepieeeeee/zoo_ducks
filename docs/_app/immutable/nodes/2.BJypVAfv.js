import"../chunks/DsnmJJEf.js";import{d as tt,o as et,a as at,s as _}from"../chunks/BPCuegEF.js";import{K as st,M as p,O as F,G as B,B as lt,C as it,P as c,Q as n,R as x,I as G,F as E,S as ot,T as i,t,V as r,W as ct}from"../chunks/CMA9wprR.js";import{i as K}from"../chunks/CUhn6USW.js";import{s as M}from"../chunks/AWJEdfPO.js";import{b as T}from"../chunks/Pkfo6oXk.js";import{B as nt}from"../chunks/euB5lpKC.js";function rt(f,l,d,s,a,e){i(l,t(l)%t(d)===0?1:t(l)+1,!0);const o=t(s)[t(l)-1]?.id;o&&!t(a).includes(o)&&i(a,[...t(a),o],!0),i(e,"")}function vt(f,l,d,s,a,e){i(l,t(l)===1?t(d):t(l)-1,!0);const o=t(s)[t(l)-1]?.id;o&&!t(a).includes(o)&&i(a,[...t(a),o],!0),i(e,"")}async function ut(f,l,d,s){const a=`Duck Fact: ${t(l)}
${t(d)}`;try{const e=document.createElement("textarea");e.value=a,e.style.position="fixed",document.body.appendChild(e),e.focus(),e.select(),document.execCommand("copy"),document.body.removeChild(e),i(s,"Copied to clipboard!")}catch(e){console.error("Failed to copy: ",e),i(s,"Failed to copy :(")}setTimeout(()=>{i(s,"")},4e3)}var dt=B('<div class="share-message svelte-9xug14"> </div>'),pt=()=>window.location.href="/secret-page",gt=B(`<div class="secret-page-unlock svelte-9xug14"><p class="svelte-9xug14">You've viewed all the facts!</p> <button class="svelte-9xug14">Open secret page</button></div>`),mt=B('<!> <main class="container svelte-9xug14"><h1 class="title svelte-9xug14"><span class="title-letter svelte-9xug14">D</span> <span class="title-letter svelte-9xug14">u</span> <span class="title-letter svelte-9xug14">c</span> <span class="title-letter svelte-9xug14">k</span> <span class="title-letter svelte-9xug14">s</span></h1> <h2 class="subtitle svelte-9xug14">Explore this page to learn more about ducks!</h2> <div class="fact-card svelte-9xug14"><div class="fact-content svelte-9xug14"><div class="fact-image svelte-9xug14"><img class="svelte-9xug14"/></div> <h2 class="fact-title svelte-9xug14"> </h2> <p class="fact-description svelte-9xug14"> </p></div> <div class="navigation-controls svelte-9xug14"><button class="nav-button svelte-9xug14" aria-label="Previous fact">◀</button> <span class="fact-counter svelte-9xug14"> </span> <button class="nav-button svelte-9xug14" aria-label="Next fact">▶</button></div> <!> <div class="share-section svelte-9xug14"><button class="share-button svelte-9xug14">Share Fact</button></div> <!></div> <div class="link-section svelte-9xug14"><a href="/duck-images" class="link-button svelte-9xug14">View Duck Images</a></div></main>',1);function $t(f,l){st(l,!0);let d=p(!1),s=p(F([{title:"Loading...",description:"",image_url:"",id:0}])),a=p(1),e=p(0),o=p(F([])),g=p(""),N=x(()=>t(o).length===t(e)&&t(e)>0),I=x(()=>t(s)[t(a)-1]?.description||""),b=x(()=>t(s)[t(a)-1]?.title||""),R=x(()=>t(s)[t(a)-1]?.image_url||""),m;et(async()=>{const u=await(await fetch(`${T}/facts.json`)).json();i(s,u,!0),i(d,!0),i(e,t(s).length,!0),m=new Audio(`${T}/quack.mp3`),document.addEventListener("click",L)}),at(()=>{m&&document.removeEventListener("click",L)});function L(){m&&(m.currentTime=0,m.play())}var S=mt();lt(v=>{});var V=it(S);nt(V);var j=n(V,2),q=n(c(j),4),h=c(q),k=c(h),O=c(k);r(k);var y=n(k,2),W=c(y,!0);r(y);var P=n(y,2),Y=c(P,!0);r(P),r(h);var $=n(h,2),Q=c($);Q.__click=[vt,a,e,s,o,g];var C=n(Q,2),z=c(C);r(C);var H=n(C,2);H.__click=[rt,a,e,s,o,g],r($);var A=n($,2);{var J=v=>{var u=dt(),D=c(u,!0);r(u),G(()=>_(D,t(g))),E(v,u)};K(A,v=>{t(g)&&v(J)})}var w=n(A,2),U=c(w);U.__click=[ut,b,I,g],r(w);var X=n(w,2);{var Z=v=>{var u=gt(),D=n(c(u),2);D.__click=[pt],r(u),E(v,u)};K(X,v=>{t(N)&&v(Z)})}r(q),ct(2),r(j),G(()=>{M(O,"src",T+t(R)),M(O,"alt",`Image related to ${t(b)??""}`),_(W,t(b)),_(Y,t(I)),_(z,`${t(a)??""} / ${t(e)??""}`)}),E(f,S),ot()}tt(["click"]);export{$t as component};
